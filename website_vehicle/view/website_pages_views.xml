<?xml version="1.0"?>
<odoo>
	<!-- List View for Website Vehicles -->
	<record id="view_website_vehicle_list" model="ir.ui.view">
		<field name="name">website.vehicle.list</field>
		<field name="model">website.vehicle</field>
		<field name="arch" type="xml">
			<tree string="Vehicles"
					js_class="website_pages_list"
					type="object"
					action="open_website_url"
					multi_edit="1">
				<field name="name"/>
				<field name="type_id"/>
				<field name="visits"/>
				<field name="website_url"/>
				<field name="website_id" groups="website.group_multi_website"/>
				<field name="website_published" invisible="1"/>
			</tree>
		</field>
	</record>

	<!-- Kanban View for Website Vehicles -->
	<record id="view_website_vehicle_kanban" model="ir.ui.view">
		<field name="name">website.vehicle.kanban</field>
		<field name="model">website.vehicle</field>
		<field name="arch" type="xml">
			<kanban js_class="website_pages_kanban" type="object" action="open_website_url" sample="1">
				<templates>
					<t t-name="kanban-box" class="row g-0">
						<main class="col-6 pe-2">
							<div class="d-flex mb-1 h5">
								<field name="name"/>
							</div>
							<div>
								<field name="type_id"/>
							</div>
							<div>
								<field name="visits"/>
								Views
							</div>
							<div class="border-top mt-auto pt-2 d-flex">
								<field name="is_published" widget="boolean_toggle"/>
								<t t-if="record.is_published.raw_value">Published</t>
								<t t-else="">Not Published</t>
							</div>
						</main>
						<aside class="col-6">
							<field name="image_512"
									widget="image"
									options="{'img_class': 'w-100 h-auto'}"
									alt="Vehicle"/>
						</aside>
					</t>
				</templates>
			</kanban>
		</field>
	</record>

	<!-- Form View for Website Vehicles -->
	<record id="view_website_vehicle_form" model="ir.ui.view">
		<field name="name">website.vehicle.form</field>
		<field name="model">website.vehicle</field>
		<field name="arch" type="xml">
			<form string="Vehicle">
				<sheet>
					<div class="oe_button_box d-flex justify-content-center" name="button_box" groups="base.group_user">
						<field name="website_url" invisible="1"/>
						<field name="website_id" invisible="1"/>
						<field name="is_published" class="oe_stat_button" widget="website_redirect_button"/>
					</div>
					<!--                     <widget name="web_ribbon" title="Archived" bg_color="text-bg-danger" invisible="is_published"/> -->
					<field name="image_1920"
							widget="image"
							class="float-end"
							options="{'convert_to_webp': True,'preview_image': 'image_512', 'size': [256, 256]}"/>
					<group>
						<field name="name"/>
						<field name="type_id"/>
						<field name="tag_ids" widget="many2many_tags"/>
						<field name="description"/>
						<field name="company_id" invisible="1"/>
						<field name="website_published" invisible="1"/>
						<field name="website_id"
								options="{'no_create': True}"
								domain="['|', ('company_id', '=', False), ('company_id', '=', company_id)]"
								groups="website.group_multi_website"/>
					</group>
					<notebook>
						<page string="Media">
							<group name="exterior_image_ids" string="Vehicle Exterior Media">
								<!--								<field name="exterior_image_ids"-->
								<!--										class="o_website_sale_image_list"-->
								<!--										context="{'default_name': name}"-->
								<!--										mode="kanban"-->
								<!--										add-label="Vehicle Exterior Media"-->
								<!--										nolabel="1"/>-->
								<field
										name="exterior_image_ids"
										class="o_website_sale_image_list"
										context="{'default_name': name}"
										mode="kanban"
										add-label="Add Media"
										nolabel="1"
										widget="x2_many_media_viewer"
										options="{'convert_to_webp': True}"
								/>
							</group>
							<label for="datasheet"/>
							<div class="o_row">
								<field
										name="datasheet"
										options="{'accepted_file_extensions': '.pdf'}"
										class="oe_inline"
								/>
							</div>
						</page>
						<page string="Website Description">
							<field name="website_description" widget="html"/>
						</page>
						<page name="seo" string="SEO" groups="base.group_no_one">
							<group name="default_opengraph">
								<field name="website_meta_title" string="Meta Title"/>
								<field name="website_meta_description" string="Meta Description"/>
								<field name="website_meta_keywords" string="Meta Keywords"
										help="Separate every keyword with a comma"/>
							</group>
						</page>
					</notebook>
				</sheet>
				<chatter/>
			</form>
		</field>
	</record>


	<!-- add new for Website Vehicles -->
	<record id="website_vehicle_view_form_add" model="ir.ui.view">
		<field name="name">website.vehicle.view.form.add</field>
		<field name="model">website.vehicle</field>
		<field name="arch" type="xml">
			<form js_class="website_new_content_form">
				<group>
					<field name="website_url" invisible="1"/>
					<field name="name" placeholder="Vehicle Title"/>
					<field name="type_id" string="Select the Type"/>
				</group>
			</form>
		</field>
	</record>
	<record id="website_vehicle_action_add" model="ir.actions.act_window">
		<field name="name">New Vehicle</field>
		<field name="res_model">website.vehicle</field>
		<field name="view_mode">form</field>
		<field name="target">new</field>
		<field name="view_id" ref="website_vehicle_view_form_add"/>
	</record>

	<!-- Search View for Website Vehicles -->
	<record id="website_vehicle_view_search" model="ir.ui.view">
		<field name="name">website.vehicle.search</field>
		<field name="model">website.vehicle</field>
		<field name="arch" type="xml">
			<search string="Search Vehicles">
				<field name="name"/>
				<field name="type_id"/>
				<filter string="Published" name="published" domain="[('website_published', '=', True)]"/>
				<filter string="Unpublished" name="unpublished" domain="[('website_published', '=', False)]"/>
				<group expand="0" string="Group By">
					<filter string="Vehicles Type" name="group_by_type" domain="[]" context="{'group_by': 'type_id'}"/>
				</group>
			</search>
		</field>
	</record>

	<!-- Action to open vehicles -->
	<record id="action_website_vehicle" model="ir.actions.act_window">
		<field name="name">Vehicles</field>
		<field name="res_model">website.vehicle</field>
		<field name="view_mode">kanban,tree,form</field>
		<field name="search_view_id" ref="website_vehicle_view_search"/>
		<field name="context">{'create_action': 'website_vehicle.website_vehicle_action_add'}</field>
	</record>

	<!-- Menu Items -->
	<menuitem id="menu_website_vehicle"
			parent="website.menu_content"
			sequence="20"
			name="Vehicles"
			action="action_website_vehicle"/>
</odoo>
